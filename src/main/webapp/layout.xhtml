<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>
<f:view>
  <h:head>
    <title><ui:insert name="title">TITLE</ui:insert></title>
  </h:head>
  <h:body style="background: greenyellow;">
    <p:layout fullPage="true">

      <p:layoutUnit position="north" size="80">
        <ui:insert name="header">
          <p:menubar>
            <p:menuitem value="Main page" outcome="index.xhtml" icon="ui-icon-home" rendered="#{menuManager.isAuthenticated()}"/>
            <p:menuitem value="New Calculation" outcome="enter.xhtml" icon="ui-icon-tag" rendered="#{menuManager.hasRole('ADMIN', 'USER')}"/>
            <p:menuitem value="Historic Calculation" outcome="historical.xhtml" icon="ui-icon-calendar" rendered="#{menuManager.isAuthenticated()}"/>
            <p:menuitem value="Change Password" outcome="changePassword.xhtml" icon="ui-icon-key" rendered="#{menuManager.isAuthenticated()}"/>
            <p:menuitem value="Change Roles" outcome="roles.xhtml" icon="ui-icon-calendar" rendered="#{menuManager.hasRole('ADMIN')}"/>

            <p:menuitem value="Login" outcome="login.xhtml" icon="ui-icon-person" rendered="#{!menuManager.isAuthenticated()}"/>
            <p:menuitem value="Register" outcome="register.xhtml" icon="ui-icon-note" rendered="#{!menuManager.isAuthenticated()}"/>

            <f:facet name="options">
              <p:button href="#{request.contextPath}/logout" value="Logout" icon="ui-icon-extlink" rendered="#{menuManager.isAuthenticated()}"/>
            </f:facet>
          </p:menubar>
        </ui:insert>
      </p:layoutUnit>

      <p:layoutUnit position="west" size="150">
      </p:layoutUnit>

      <p:layoutUnit position="center">
        <p:growl for="errors" showDetail="true" autoUpdate="true"/>
        <ui:insert name="content">Default content</ui:insert>
      </p:layoutUnit>

      <p:layoutUnit position="east" size="150">
      </p:layoutUnit>

    </p:layout>
  </h:body>
</f:view>
</html>