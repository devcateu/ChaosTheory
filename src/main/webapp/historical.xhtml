<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html">
<ui:composition template="layout.xhtml">
  <ui:define name="title">Historic Calculation</ui:define>

  <ui:define name="content">
    Site present list of historical results.
    Not showing there result picture ! After click some button (or record) should change page into result.jsf and there show picture result.

    <p:dataList value="#{calculationManager.getAllAlgorithmResultForUser()}" var="calculation" type="ordered">
      <f:facet name="header">
        Historic Calculation
      </f:facet>
      #{calculation.imageId}
    </p:dataList>

      <p:dataTable var="calculation" value="#{calculationManager.getAllAlgorithmResultForUser()}">
          <p:column  style="width:32px;text-align: center" headerText="Id">
              <h:outputText value="#{calculation.imageId}" />
          </p:column>

          <p:column headerText="AlgorithmType">
              <h:outputText value="#{calculation.algorithmType}" />
          </p:column>

          <p:column headerText="Description">
              <h:outputText value="#{calculation.description}" />
          </p:column>

          <p:column style="width:120px;text-align: center" headerText="Color">
              <p:commandButton value="Calculate" type="button" onclick="PF('dlg3').show();"/>
          </p:column>
<!--
          <p:column style="width:120px;text-align: center" headerText="Color">
              <p:commandLink update=":form:documentPanel" oncomplete="PF('documentDialog').show()" title="View Detail" styleClass="ui-icon ui-icon-search">
                  <f:setPropertyActionListener value="#{document}" target="#{ResultView.ResultView(AlgorithmResultDto.imageId())}" />
              </p:commandLink>
          </p:column>
-->      </p:dataTable>

      <p:dialog header="Show Result" widgetVar="dlg3" showEffect="fade" hideEffect="bounce" minWidth="30" width="800"  height="100">
          <p:outputPanel id="documentPanel">
              <h:outputLabel for="parameters" value="Parameters: " />
              <h:outputText id="parameters" value="#{AlgorithmResultDto.getParameters()}" style="font-weight:bold" />
          </p:outputPanel>
      </p:dialog>

  </ui:define>

</ui:composition>
</html>
